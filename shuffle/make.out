g++ App/Enclave_u.o App/App.o -o app -m64 -O0 -g -L/opt/intel/sgxssl/lib64 -L/home/software/sgxsdk/lib64  -lsgx_urts -lpthread -lsgx_usgxssl -lsgx_uae_service
echo "LINK =>  app"
cd Enclave && /home/software/sgxsdk/bin/x64/sgx_edger8r --trusted ../Enclave/Enclave.edl --search-path ../Enclave --search-path /home/software/sgxsdk/include --search-path /opt/intel/sgxssl/include/
echo "GEN  =>  Enclave/Enclave_t.c"
cc -m64 -O0 -g -nostdinc -fvisibility=hidden -fpie -ffunction-sections -fdata-sections -fstack-protector-strong -IInclude -IEnclave -I/home/software/sgxsdk/include -I/home/software/sgxsdk/include/tlibc -I/home/software/sgxsdk/include/libcxx -I/home/software/intel-sgx-ssl/Linux/package/include -include "tsgxsslio.h" -c Enclave/Enclave_t.c -o Enclave/Enclave_t.o
echo "CC   <=  Enclave/Enclave_t.c"
g++ -m64 -O0 -g -nostdinc -fvisibility=hidden -fpie -ffunction-sections -fdata-sections -fstack-protector-strong -IInclude -IEnclave -I/home/software/sgxsdk/include -I/home/software/sgxsdk/include/tlibc -I/home/software/sgxsdk/include/libcxx -I/home/software/intel-sgx-ssl/Linux/package/include -include "tsgxsslio.h" -std=c++11 -nostdinc++ -c Enclave/Enclave.cpp -o Enclave/Enclave.o
echo "CXX  <=  Enclave/Enclave.cpp"
g++ Enclave/Enclave_t.o Enclave/Enclave.o -o enclave.so -L/opt/intel/sgxssl/lib64 -m64 -O0 -g -Wl,--no-undefined -nostdlib -nodefaultlibs -nostartfiles -L/home/software/sgxsdk/lib64 -Wl,--whole-archive -lsgx_trts -Wl,--no-whole-archive -Wl,--whole-archive -lsgx_tsgxssl -Wl,--no-whole-archive -lsgx_tsgxssl_crypto -Wl,--start-group -lsgx_tstdc -lsgx_tcxx -lsgx_tcrypto -lsgx_tservice -Wl,--end-group -Wl,-Bstatic -Wl,-Bsymbolic -Wl,--no-undefined -Wl,-pie,-eenclave_entry -Wl,--export-dynamic -Wl,--defsym,__ImageBase=0 -Wl,--gc-sections -Wl,--version-script=Enclave/Enclave.lds
echo "LINK =>  enclave.so"
/home/software/sgxsdk/bin/x64/sgx_sign sign -key Enclave/Enclave_private.pem -enclave enclave.so -out enclave.signed.so -config Enclave/Enclave.config.xml
echo "SIGN =>  enclave.signed.so"
echo "The project has been built in debug hardware mode."
